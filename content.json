{"meta":{"title":"Neil's site","subtitle":"A bird is known by its note, and a man by his talk.","description":"javascript nodejs react","author":"Neil Guo","url":"http://hero-guo.com"},"pages":[{"title":"ç®€ä»‹","date":"2016-11-22T03:52:49.000Z","updated":"2016-12-11T09:06:42.000Z","comments":true,"path":"about/index.html","permalink":"http://hero-guo.com/about/index.html","excerpt":"","text":"åå­—ï¼š Neil Guo èŒä¸šï¼šå‰ç«¯å·¥ç¨‹å¸ˆ è”ç³»æ–¹å¼ï¼š handsamechina@126.com çº¿ä¸Šç®€å†"}],"posts":[{"title":"JavaScriptäº‹ä»¶å¾ªç¯æ¢ç´¢","slug":"javascriptäº‹ä»¶å¾ªç¯æ¢ç´¢","date":"2018-07-11T13:28:57.000Z","updated":"2018-07-11T15:28:06.687Z","comments":true,"path":"2018/07/11/javascriptäº‹ä»¶å¾ªç¯æ¢ç´¢/","link":"","permalink":"http://hero-guo.com/2018/07/11/javascriptäº‹ä»¶å¾ªç¯æ¢ç´¢/","excerpt":"","text":"ä¸€ç›´å¯¹jsçš„äº‹ä»¶å¾ªç¯ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œæœ€è¿‘çœ‹äº†JavaScriptå¿è€…ç§˜ç±çš„ç¬¬13ç« åï¼Œæœ‰äº†ä¸€äº›æ„Ÿæ‚Ÿï¼Œç‰¹æ­¤æ€»ç»“ä¸€ä¸‹ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚ å•çº¿ç¨‹ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScriptæ˜¯å•çº¿ç¨‹æ‰§è¡Œæ¨¡å‹ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œä¸€ä¸ªä»»åŠ¡å¼€å§‹åçŸ¥é“è¿è¡Œå®Œæˆï¼Œä¸ä¼šè¢«å…¶ä»–ä»»åŠ¡ä¸­æ–­ã€‚å½“ä¸€ä¸ªä»»åŠ¡èŠ±è´¹çš„æ—¶é—´å¾ˆé•¿çš„è¯ï¼Œç”¨æˆ·å°±ä¼šæ˜æ˜¾çš„æ„Ÿè§‰åˆ°å¡é¡¿ã€‚æµè§ˆå™¨ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¼•å…¥äº†äº‹ä»¶å¾ªç¯çš„æ¦‚å¿µï¼ˆEvent Loopï¼‰ã€‚ äº‹ä»¶å¾ªç¯äº‹ä»¶å¾ªç¯å…·æœ‰è‡³å°‘ä¸¤ä¸ªé˜Ÿåˆ—å¤„ç†ä»»åŠ¡ã€‚ä»»åŠ¡åˆ†ä¸ºä¸¤ç±»ï¼Œå®ä»»åŠ¡ï¼ˆmacro-taskï¼‰å’Œå¾®ä»»åŠ¡ï¼ˆmicro-taskï¼‰ã€‚ å®ä»»åŠ¡ä»£è¡¨ä¸€ä¸ªä¸ªç¦»æ•£ã€ç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œè¿è¡Œå®Œä¹‹åï¼Œæµè§ˆå™¨å¯ä»¥ç»§ç»­å…¶ä»–çš„è°ƒåº¦ã€‚åŒ…æ‹¬ï¼šåˆ›å»ºæ–‡æ¡£å¯¹è±¡ï¼Œè§£æHTMLï¼Œæ‰§è¡ŒJavaScriptï¼Œä»¥åŠå„ç§äº‹ä»¶â€¦â€¦ å¾®ä»»åŠ¡æ˜¯æ›´å°çš„ä»»åŠ¡ï¼Œä¸»è¦ç”¨æˆ·æ›´æ–°åº”ç”¨ç¨‹åºçš„çŠ¶æ€ï¼Œå¿…é¡»åœ¨æµè§ˆå™¨ä»»åŠ¡ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ä¹‹å‰æ‰§è¡Œã€‚å¾®ä»»åŠ¡éœ€è¦å°½å¯èƒ½å¿«åœ°é€šè¿‡å¼‚æ­¥æ–¹å¼æ‰§è¡Œï¼ŒåŒæ—¶ä¸èƒ½äº§ç”Ÿå…¨æ–°çš„å¾®ä»»åŠ¡ã€‚åŒ…æ‹¬promiseã€å›è°ƒå‡½æ•°ã€DOMå‘ç”Ÿå˜åŒ–â€¦â€¦ ä»…åŒ…å«å®ä»»åŠ¡123// ä¸»çº¿ç¨‹JavaScriptè¿è¡Œ15msbtn1.addEventListener('click', function() &#123;è¿è¡Œ 8ms&#125;, false);btn2.addEventListener('click', function() &#123;è¿è¡Œ 5ms&#125;, false); â€‹ ç°åœ¨å‡è®¾ä¸»çº¿ç¨‹è¿è¡Œ15msï¼Œ åœ¨ç¬¬5mså•å‡»btn1ï¼Œåœ¨ç¬¬12msçš„æ—¶å€™å•å‡»btn2ã€‚åŸºäºå•çº¿ç¨‹æ‰§è¡Œæ¨¡å‹ï¼Œå•å‡»æŒ‰é’®ä¹‹åä¸ä¼šç«‹å³æ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œå› ä¸ºä¸€ä¸ªä»»åŠ¡ä¸€æ—¦å¼€å§‹å°±ä¸ä¼šè¢«å¦ä¸€ä¸ªä»»åŠ¡ä¸­æ–­ã€‚å› æ­¤ï¼Œåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„15msæœŸé—´ï¼ŒæŒ‰é’®çš„å•å‡»å¤„ç†å‡½æ•°æ”¾å…¥é˜Ÿåˆ—ã€‚å½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹Ÿå°±æ˜¯15msä¹‹åï¼Œç¨‹åºå¼€å§‹å¤„ç†å¾®ä»»åŠ¡ï¼Œå› ä¸ºå½“å‰ä¸å­˜åœ¨å¾®ä»»åŠ¡ï¼Œè·³è¿‡æ­¤æ­¥éª¤ï¼Œå¼€å§‹æ‰§è¡Œæ›´æ–°UIã€‚ â€‹ ä¹‹åè¿›å…¥ç¬¬äºŒæ¬¡å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯å¼€å§‹æ‰§è¡Œbtn1çš„å¤„ç†å‡½æ•°ï¼Œéœ€è¦è¿è¡Œ8msï¼Œbtn2å¤„ç†å‡½æ•°åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚å½“btn1å¤„ç†å‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œæµè§ˆå™¨æ£€æŸ¥å¾®ä»»åŠ¡æ˜¯å¦å­˜åœ¨å’Œæ˜¯å¦æ›´æ–°UIï¼Œåˆ é™¤ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„btn1çš„å¤„ç†å‡½æ•°ã€‚ â€‹ æœ€åè¿›å…¥ç¬¬ä¸‰æ¬¡å¾ªç¯ï¼Œå¼€å§‹æ‰§è¡Œbtn2çš„å¤„ç†å‡½æ•°ï¼Œéœ€è¦è¿è¡Œ5msï¼Œå¤„ç†å‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œæ£€æŸ¥å¾®ä»»åŠ¡å’Œæ˜¯å¦éœ€è¦æ›´æ–°UIï¼Œåˆ é™¤ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„btn2çš„å¤„ç†å‡½æ•°ï¼Œæœ€ç»ˆä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå¾ªç¯ç»“æŸã€‚ åŒæ—¶å«æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡12345678// ä¸»çº¿ç¨‹JavaScriptè¿è¡Œ15msbtn1.addEventListener('click', function() &#123; Promise.resolve().then(() =&gt; &#123; è¿è¡Œ 4ms &#125;); è¿è¡Œ 8ms &#125;, false);btn2.addEventListener('click', function() &#123;è¿è¡Œ 5ms&#125;, false); æœ¬ä¾‹ä¸­åœ¨btn1çš„äº‹ä»¶å¤„ç†å‡½æ•°é‡Œå¢åŠ äº†ä¸€ä¸ªç«‹å³å…‘ç°çš„Promiseï¼Œéœ€è¦è¿è¡Œ4msã€‚ ç°åœ¨ä»£ç çš„æ‰§è¡Œé¡ºåºä¸ºï¼š 1. ä¸»çº¿ç¨‹æ‰§è¡Œ15msï¼Œåœ¨5mså’Œ12msçš„æ—¶å€™åˆ†åˆ«å°†å¤„ç†å‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ›´æ–°UIã€‚ 2. 15måå¤„ç†btn1äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå‘ç°Promiseï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œbtn1äº‹ä»¶å¤„ç†å‡½æ•°ç»§ç»­æ‰§è¡Œ8msï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å‘ç°æœ‰Promiseå›è°ƒå‡½æ•°ï¼Œç„¶åå¼€å§‹æ‰§è¡ŒPromiseå›è°ƒå‡½æ•°ï¼Œè¿è¡Œ4msï¼Œç»§ç»­æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœä¸ºç©ºï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°UIï¼Œè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚ 3. å¤„ç†btn2çš„äº‹ä»¶å¤„ç†å‡½æ•°â€¦â€¦ è®¡æ—¶å™¨åŸºäºä¸Šé¢çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ç§ç‰¹æ®Šç±»å‹çš„äº‹ä»¶ï¼šè®¡æ—¶å™¨ã€‚æµè§ˆå™¨æä¾›äº†ä¸¤ç§åˆ›å»ºè®¡æ—¶å™¨çš„æ–¹æ³• setTimeout å’Œ setIntervalã€‚ ä»–ä»¬éƒ½æŒ‚è½½åœ¨ window å¯¹è±¡ä¸Šã€‚ setTimeoutï¼šåœ¨æŒ‡å®šçš„å»¶è¿Ÿæ—¶é—´ç»“æŸæ—¶æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œè¿”å›æ ‡è¯†è®¡æ—¶å™¨çš„å”¯ä¸€å€¼ï¼Œå¯ç”¨äºå–æ¶ˆå®šæ—¶å™¨ï¼ˆclearTimeout(id)ï¼‰ã€‚ setIntervalï¼šæŒ‰ç…§æŒ‡å®šçš„å»¶è¿Ÿé—´éš”ä¸æ–­çš„æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œè¿”å›æ ‡è¯†è®¡æ—¶å™¨çš„å”¯ä¸€å€¼ï¼Œå¯ç”¨äºå–æ¶ˆå®šæ—¶å™¨ï¼ˆclearInterval(id)ï¼‰ã€‚ äº‹ä»¶å¾ªç¯ä¸­çš„å®šæ—¶å™¨12345678// ä¸»çº¿ç¨‹JavaScriptè¿è¡Œ18mssetTimeout(function() &#123; è¿è¡Œ6ms;&#125;, 10);setInterval(function() &#123; è¿è¡Œ8ms;&#125;, 10);btn1.addEventListener('click', function() &#123;è¿è¡Œ 10ms&#125;, false); ğŸ‘†ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç°åœ¨æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ä¸»çº¿ç¨‹ä»£ç éœ€è¦è¿è¡Œ18msï¼Œåœ¨ç¬¬6msçš„æ—¶å€™ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®ï¼Œåœ¨ç¬¬10mså»¶è¿Ÿè®¡æ—¶å™¨åˆ°æœŸï¼Œé—´éš”è®¡æ—¶å™¨ç¬¬ä¸€æ¬¡è§¦å‘ã€‚ æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªä»»åŠ¡ä¸€æ—¦å¼€å§‹æ‰§è¡Œï¼Œå°±æ— æ³•è¢«å…¶ä»–ä»»åŠ¡ä¸­æ–­ã€‚æ‰€ä»¥ï¼Œ6mså°†äº‹ä»¶å¤„ç†å‡½æ•°åŠ å…¥é˜Ÿåˆ—ï¼Œ10msåˆ†åˆ«å°†å»¶è¿Ÿè®¡æ—¶å™¨å’Œé—´éš”è®¡æ—¶å™¨å›è°ƒæ”¾å…¥é˜Ÿåˆ—ã€‚è¿è¡Œåˆ°18mä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œæ›´æ–°UIï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªæ—¶é—´å¾ªç¯ã€‚å¼€å§‹æ‰§è¡Œbtn1äº‹ä»¶å›è°ƒï¼Œè¿è¡Œ10msï¼Œè¿™æ—¶å€™åœ¨btn1äº‹ä»¶å›è°ƒè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé—´éš”è®¡æ—¶å™¨ç¬¬äºŒæ¬¡åˆ°æœŸï¼Œä½†æ˜¯ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å·²ç»æœ‰ä¸€ä¸ªé—´éš”è®¡æ—¶å™¨å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥å¿½ç•¥è¿™ä¸ªå¤„ç†å‡½æ•°ã€‚btn1äº‹ä»¶å›è°ƒè¿è¡Œç»“æŸï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œæ›´æ–°UIï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ã€‚å¼€å§‹æ‰§è¡Œå»¶è¿Ÿè®¡æ—¶å™¨å¤„ç†å‡½æ•°ï¼Œè¿è¡Œ6msï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­é—´éš”è®¡æ—¶å™¨ç¬¬ä¸‰æ¬¡åˆ°æœŸï¼Œä½†æ˜¯ç”±äºä»»åŠ¡é˜Ÿåˆ—å·²ç»æœ‰äº†å¤„ç†å‡½æ•°ï¼Œç»§ç»­å¿½ç•¥ã€‚å»¶è¿Ÿè®¡æ—¶å™¨å¤„ç†å‡½æ•°è¿è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œæ›´æ–°UIï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ã€‚ç°åœ¨å¼€å§‹æ‰§è¡Œé—´éš”è®¡æ—¶å™¨å¤„ç†å‡½æ•°ï¼Œè¿è¡Œ8msï¼Œåœ¨è¿™æœŸé—´é—´éš”è®¡æ—¶å™¨ç¬¬å››æ¬¡åˆ°æœŸï¼Œè¿™æ—¶å€™ä»»åŠ¡é˜Ÿåˆ—é‡Œæ²¡æœ‰å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥å°†è¿™æ¬¡çš„å¤„ç†å‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œé—´éš”å®šæ—¶å™¨å¤„ç†å‡½æ•°è¿è¡Œå®Œæˆï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œæ›´æ–°UIï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œç„¶åé‡å¤è¿è¡Œé—´éš”å®šæ—¶å™¨â€¦â€¦ é€šè¿‡ä»¥ä¸Šçš„æ‰§è¡Œè¿‡ç¨‹æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬åªèƒ½æ§åˆ¶è®¡æ—¶å™¨ä½•æ—¶è¢«åŠ å…¥é˜Ÿåˆ—ï¼Œè€Œæ— æ³•æ§åˆ¶ä½•æ—¶æ‰§è¡Œã€‚ æœ€åï¼ŒJavaScriptçš„äº‹ä»¶å¾ªç¯æ˜¯è¿™é—¨è¯­è¨€éå¸¸é‡è¦çš„åŸºç¡€ï¼Œç”±äºæˆ‘æ°´å¹³æœ‰é™ä»¥ä¸Šåªæ˜¯ç®€å•æ€»ç»“äº†ä¸€ä¸‹å®ƒçš„æ‰§è¡Œè¿‡ç¨‹ã€‚å¤§å®¶å¯ä»¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹Nodejsçš„äº‹ä»¶å¾ªç¯ â€‹","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"äº‹ä»¶å¾ªç¯","slug":"äº‹ä»¶å¾ªç¯","permalink":"http://hero-guo.com/tags/äº‹ä»¶å¾ªç¯/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"æ‰©å±•åŸç”ŸNumber","slug":"æ‰©å±•åŸç”ŸNumber","date":"2018-02-05T14:46:27.000Z","updated":"2018-02-05T14:52:50.457Z","comments":true,"path":"2018/02/05/æ‰©å±•åŸç”ŸNumber/","link":"","permalink":"http://hero-guo.com/2018/02/05/æ‰©å±•åŸç”ŸNumber/","excerpt":"","text":"ä»Šå¤©çœ‹ä½ ä¸çŸ¥é“çš„js ç¬¬ä¸‰ç« æœ‰ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„æ–¹æ³•ï¼Œç‰¹è®°å½•ä¸€ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647if (!Number.prototype[Symbol.iterator]) &#123; Object.defineProperty( Number.prototype, Symbol.iterator, &#123; writable: true, configurable: true, enumerable: false, value: function iterator()&#123; var i, inc, done = false, top = +this; // iterate positively or negatively? inc = 1 * (top &lt; 0 ? -1 : 1); return &#123; // make the iterator itself an iterable! [Symbol.iterator]()&#123; return this; &#125;, next() &#123; if (!done) &#123; // initial iteration always 0 if (i == null) &#123; i = 0; &#125; // iterating positively else if (top &gt;= 0) &#123; i = Math.min(top,i + inc); &#125; // iterating negatively else &#123; i = Math.max(top,i + inc); &#125; // done after this iteration? if (i == top) done = true; return &#123; value: i, done: false &#125;; &#125; else &#123; return &#123; done: true &#125;; &#125; &#125; &#125;; &#125; &#125; );&#125; ç”¨æ³•123456for (var i of 3) &#123; console.log( i );&#125;// 0 1 2 3[...-3]; // [0,-1,-2,-3]","categories":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"ES6","slug":"ES6","permalink":"http://hero-guo.com/tags/ES6/"}],"keywords":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}]},{"title":"ä½¿ç”¨commitlintè§„èŒƒgitæäº¤","slug":"ä½¿ç”¨commitlintè§„èŒƒgitæäº¤","date":"2018-02-05T14:06:11.000Z","updated":"2018-02-05T14:13:28.413Z","comments":true,"path":"2018/02/05/ä½¿ç”¨commitlintè§„èŒƒgitæäº¤/","link":"","permalink":"http://hero-guo.com/2018/02/05/ä½¿ç”¨commitlintè§„èŒƒgitæäº¤/","excerpt":"","text":"commitlint: git æäº¤ä¿¡æ¯è§„èŒƒä¸éªŒè¯ husky: ä½¿ghookæ›´å®¹æ˜“ standard-version: è‡ªåŠ¨ç”ŸæˆCHANGELOG å¹¶å‘å¸ƒç‰ˆæœ¬ å®‰è£… 123npm install --save-dev @commitlint/&#123;config-conventional,cli&#125;npm i --save-dev standard-versionnpm install husky --save-dev é…ç½® commitlint 123456789101112echo &quot;module.exports = &#123;extends: [&apos;@commitlint/config-conventional&apos;]&#125;&quot; &gt; commitlint.config.js// commitlint.config.js module.exports = &#123; extends: [&apos;@commitlint/config-conventional&apos;], rules: &#123; &apos;type-enum&apos;: [2, &apos;always&apos;, [ &quot;feat&quot;, &quot;fix&quot;, &quot;docs&quot;, &quot;style&quot;, &quot;refactor&quot;, &quot;perf&quot;, &quot;test&quot;, &quot;build&quot;, &quot;ci&quot;, &quot;chore&quot;, &quot;revert&quot; ]], &apos;scope-empty&apos;: [2, &apos;never&apos;], &apos;subject-full-stop&apos;: [0, &apos;never&apos;], &apos;subject-case&apos;: [0, &apos;never&apos;] &#125;&#125;; tandard-version å’Œ husky 123456789101112// package.json &quot;scripts&quot;: &#123; &quot;lint&quot;: &quot;eslint .&quot;, &quot;commitmsg&quot;: &quot;commitlint -e $GIT_PARAMS&quot;, &quot;release&quot;: &quot;standard-version&quot;, &quot;validate&quot;: &quot;npm prune&quot;, &quot;pre-commit&quot;: &quot;npm run lint&quot;, &quot;pre-push&quot;: &quot;npm run validate&quot;, &quot;npmi&quot;: &quot;npm i&quot;, &quot;post-merge&quot;: &quot;npm run npmi&quot;, &quot;post-rewrite&quot;: &quot;npm run npmi&quot; &#125;","categories":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"git","slug":"git","permalink":"http://hero-guo.com/tags/git/"}],"keywords":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}]},{"title":"å‰ç«¯å‘å±•å²","slug":"å‰ç«¯å‘å±•å²","date":"2017-12-17T07:04:20.000Z","updated":"2017-12-17T06:38:50.667Z","comments":true,"path":"2017/12/17/å‰ç«¯å‘å±•å²/","link":"","permalink":"http://hero-guo.com/2017/12/17/å‰ç«¯å‘å±•å²/","excerpt":"","text":"ä»€ä¹ˆæ˜¯å‰ç«¯å‰ç«¯å·¥ç¨‹å¸ˆä¸»è¦åˆ©ç”¨HMTLä¸CSSæ„å»ºé¡µé¢ï¼Œç”¨JavaScriptå®Œå–„äº¤äº’ä»¥åŠç”¨æˆ·ä½“éªŒã€‚ è¯ç”Ÿ 1994å¹´å¯ä»¥çœ‹åšå‰ç«¯å†å²çš„èµ·ç‚¹ï¼Œè¿™ä¸€å¹´10æœˆ13æ—¥ç½‘æ™¯æ¨å‡ºäº†ç¬¬ä¸€ç‰ˆNavigatorï¼›è¿™ä¸€å¹´ï¼ŒTim Berners-Leeåˆ›å»ºäº†W3Cï¼›è¿™ä¸€å¹´ï¼ŒTimçš„åŸºå‹å‘å¸ƒäº†CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ã€‚1995å¹´ï¼Œå½“æ—¶åœ¨ç½‘æ™¯å…¬å¸å°±èŒçš„å¸ƒå…°ç™»Â·è‰¾å…‹æ­£ä¸ºNetscape Navigator 2.0æµè§ˆå™¨å¼€å‘çš„ä¸€é—¨åä¸ºLiveScriptçš„è„šæœ¬è¯­è¨€ï¼Œåæ¥ç½‘æ™¯å…¬å¸ä¸æ˜‡é˜³ç”µè„‘å…¬å¸ç»„æˆçš„å¼€å‘è”ç›Ÿä¸ºäº†è®©è¿™é—¨è¯­è¨€æ­ä¸Šjavaè¿™ä¸ªç¼–ç¨‹è¯­è¨€â€œçƒ­è¯â€ï¼Œå°†å…¶ä¸´æ—¶æ”¹åä¸ºâ€œJavaScriptâ€ï¼Œæ—¥åè¿™æˆä¸ºå¤§ä¼—å¯¹è¿™é—¨è¯­è¨€æœ‰è¯¸å¤šè¯¯è§£çš„åŸå› ä¹‹ä¸€ã€‚ ä¸‡ç»´ç½‘ï¼ˆWWWï¼‰æ˜¯æ¬§æ´²æ ¸å­ç ”ç©¶ç»„ç»‡çš„ä¸€å¸®ç§‘å­¦å®¶ä¸ºäº†æ–¹ä¾¿çœ‹æ–‡æ¡£ã€ä¼ è®ºæ–‡è€Œåˆ›é€ çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆWebç½‘é¡µéƒ½åŸºäºDocumentã€‚Documentå°±æ˜¯ç”¨æ ‡è®°è¯­è¨€+è¶…é“¾æ¥å†™æˆçš„ç”±æ–‡å­—å’Œå›¾ç‰‡æ„æˆçš„HTMLé¡µé¢ï¼Œè¿™æ ·çš„åŠŸèƒ½å·²ç»å®Œå…¨æ»¡è¶³å­¦æœ¯äº¤æµçš„éœ€è¦ï¼Œæ‰€ä»¥ç½‘é¡µçš„æ—©æœŸå½¢æ€å’ŒDocumentä¸€æ ·ï¼Œå®Œå…¨åŸºäºHTMLé¡µé¢ï¼Œå¹¶ä¸”æ‰€æœ‰å†…å®¹éƒ½æ˜¯é™æ€çš„ã€‚ 1999å¹´W3Cå‘å¸ƒç¬¬å››ä»£HTMLæ ‡å‡†ï¼ŒåŒå¹´å¾®è½¯æ¨å‡ºç”¨äºå¼‚æ­¥æ•°æ®ä¼ è¾“çš„ActiveXï¼Œéšå³å„å¤§æµè§ˆå™¨å‚å•†æ¨¡ä»¿å®ç°äº†XMLHttpRequestã€‚è¿™æ ‡è¯†ç€Ajaxçš„è¯ç”Ÿï¼Œä½†æ˜¯Ajaxè¿™ä¸ªè¯æ˜¯åœ¨å…­å¹´åé—®ä¸–çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨è°·æ­Œä½¿ç”¨AjaxæŠ€æœ¯æ‰“é€ äº†Gmailå’Œè°·æ­Œåœ°å›¾ä¹‹åï¼ŒAjaxè·å¾—äº†å·¨å¤§çš„å…³æ³¨ã€‚Ajaxæ˜¯Webç½‘é¡µè¿ˆå‘Webåº”ç”¨çš„å…³é”®æŠ€æœ¯ï¼Œå®ƒæ ‡è¯†ç€Web2.0æ—¶ä»£çš„åˆ°æ¥ã€‚ 2006å¹´ï¼ŒXMLHttpRequestè¢«W3Cæ­£å¼çº³å…¥æ ‡å‡†ã€‚ è‡³æ­¤ï¼Œæ—©æœŸçš„Documentç»ˆäºè¿›åŒ–ä¸ºäº†Web pageï¼Œä¸Šè¿°ä¸‰ä¸ªå±€é™éƒ½å¾—åˆ°äº†å¦¥å–„çš„è§£å†³ã€‚ è¿œå¤æ—¶ä»£ï¼ˆweb 1.0ï¼‰é‚£æ—¶å€™çš„webå¼€å‘è¿˜å±äºçº¯é™æ€å¼€å‘ã€‚å¼€å‘è€…åœ¨webæœåŠ¡å™¨çš„æŒ‡å®šæ–‡ä»¶å¤¹(/www)ä¸‹ï¼Œæ”¾ç½®ä¸€ä¸‹htmlæ–‡ä»¶ï¼Œå½“æµè§ˆå™¨è¯·æ±‚çš„é¡µé¢çš„æ—¶å€™è¿”å›ç›¸åº”çš„htmlæ–‡ä»¶ã€‚ ä½†æ˜¯ï¼Œæ¸æ¸çš„çº¯é™æ€çš„é¡µé¢ä¸è¶³ä»¥æ»¡è¶³äº§å“çš„å‘å±•éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šç»Ÿè®¡è¯¥ç½‘ç«™çš„è®¿é—®æµé‡ï¼Œæäº¤ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼‰ã€‚è¿™æ—¶å€™ï¼Œå¤§çº¦2005å¹´å·¦å³ï¼Œå‡ºç°äº†Java Server Pages(JSP)ï¼Œå¾®è½¯çš„ASPï¼Œä»¥åŠAjaxï¼ä½ å¯ä»¥åŸºäºjspå’ŒAjaxå¿«é€Ÿæ„å»ºä¸€ä¸ªå¯ä¼¸ç¼©å¹¶ä¸”å®‰å…¨çš„åº”ç”¨ç¨‹åºã€‚ çŸ³å™¨æ—¶ä»£ (web 2.0)å› ä¸ºå½“æ—¶æµè§ˆå™¨å‚å•†çš„æ··ä¹±ï¼ˆä¾‹å¦‚ï¼šie, chrome, firefoxç­‰ï¼‰ï¼Œæ‹¥æœ‰ä¸åŒå†…æ ¸çš„æµè§ˆå™¨Trident(IEå†…æ ¸)ï¼ŒGecko(Firefox å†…æ ¸)ï¼Œwebkitï¼ˆSafari å†…æ¶µï¼‰, Chromium/Blinkï¼ˆChromeå†…æ ¸ï¼‰ï¼ŒPrestoï¼ˆOperaå†…æ ¸ï¼‰ç­‰ã€‚å½“æ—¶çš„æµè§ˆå™¨å‚å•†çš„æ ‡å‡†éƒ½ä¸ä¸€æ ·ã€‚æ¯”å¦‚å†™ä¸€ä¸ªç‚¹å‡»äº‹ä»¶éœ€è¦åšä¸€äº›å…¼å®¹æ€§å¤„ç†ã€‚ 1var e = e || window.event //å¤„ç†ieæµè§ˆå™¨å’Œå…¶ä»–æµè§ˆå™¨ä¹‹é—´çš„äº‹ä»¶å…¼å®¹é—®é¢˜ è¿™æ—¶å€™ä¸ºäº†å¤„ç†æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œå‡ºç°äº†YUI å’Œ jQuery, ä¸»è¦è§£å†³äº†DOMå…ƒç´ é€‰æ‹©ï¼ŒCSSæ“çºµï¼Œäº‹ä»¶ç³»ç»Ÿå¤„ç†ã€‚åŒæ—¶ä¹Ÿå¯ä»¥å…¼é¡¾ä¸€ä¸‹åŠ¨ç”»æ•ˆæœçš„å®ç°å’Œä¸€äº›å¸¸ç”¨æ’ä»¶çš„å°è£…ï¼ˆè¡¨å•éªŒè¯ï¼Œæ—¥å†æ’ä»¶ç­‰ï¼‰ã€‚ 12345678910//jQuery$(\"p.surprise\").addClass(\"ohmy\").show(\"slow\");$(\"p.surprise\").on(\"click\", function (e) &#123; console.log(e.target);&#125;);//YUIYUI().use('node', 'event', function (Y) &#123; // The Node and Event modules are loaded and ready to use. // Your code goes here!&#125;); æ¨¡å—åŒ–æ—¶ä»£æœ€å¼€å§‹JavaScriptæ‰¿æ‹…çš„ä»»åŠ¡é‡å¹¶ä¸å¤šï¼Œè¡¨å•éªŒè¯åŸºæœ¬ä¸Šå°±æ˜¯ä»–çš„å…¨éƒ¨ï¼Œæœ€å¤šå°±æ˜¯ç®€çŸ­çš„å‰ç«¯äº¤äº’ï¼Œè¿™ä¸ªæ—¶æœŸJavaScriptç»„ç»‡ç»“æ„éå¸¸å‡Œä¹±ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åç«¯é¡ºæ‰‹ä»£åŠ³ï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰â€œå‰ç«¯â€è¿™ä¸€èŒä½ã€‚ ä¸€èˆ¬éƒ½æ˜¯å†™åˆ°ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›´æ¥å†™åˆ°jspã€aspçš„åç«¯æ¨¡æ¿é¡µé¢ä¸Šå°±å®Œäº‹äº†ã€‚éšç€ajaxçš„æµè¡Œï¼Œå‰ç«¯èƒ½åšçš„ä¸œè¥¿ä¸€å¤œä¹‹é—´æš´æ¶¨ï¼Œä»£ç é‡é£é€Ÿå¢åŠ ï¼Œå•æ–‡ä»¶ç»´æŠ¤ä»£ç å·²ç»å¤ªæ²‰é‡ï¼Œå¤šäººå¼€å‘å…¨å±€å˜é‡æ³›æ»¥ï¼Œä»£ç åˆå¹¶å¼•èµ·å†²çªè¦†ç›–ç­‰é—®é¢˜ã€‚æœ€å¼€å§‹çš„è§£å†³çš„æ–¹å¼æ˜¯ç”¨åŒ¿åå‡½æ•°åŒ…è£¹è‡ªå·±çš„ä»£ç ï¼Œè¿™æ ·å°±ä¸ä¼šæŠŠå®šä¹‰çš„å˜é‡æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸé‡Œé¢ã€‚ 12345678910111213141516//ç«‹å³æ‰§è¡Œå‡½æ•°å†™æ³• var module1 = (function()&#123; var m1 = function()&#123; //ä¸šåŠ¡ä»£ç  &#125;; return &#123; m1 : m1 &#125;; &#125;)();//å¯ä»¥ä¼ å…¥å‚æ•°var module1 = (function ($, undefined) &#123; //ä¸šåŠ¡ä»£ç &#125;)(jQuery);//å‘½åç©ºé—´æ–¹å¼var namespace = &#123;&#125;;namespace.xxx = function () &#123;...&#125; éšç€ç½‘ç«™é€æ¸çš„å‘å±•ï¼ŒåµŒå…¥ç½‘é¡µçš„Javascriptä»£ç è¶Šæ¥è¶Šåºå¤§ï¼Œè€Œç½‘é¡µè¶Šæ¥è¶Šåƒæ¡Œé¢ç¨‹åºï¼Œéœ€è¦ä¸€ä¸ªå›¢é˜Ÿå»åˆ†å·¥åä½œï¼Œè¿›è¡Œç®¡ç†å’Œæµ‹è¯•ç­‰ç­‰ï¼Œä¸ºäº†æ›´å¥½çš„ç®¡ç†ç½‘é¡µçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¤„ç†ä»£ç ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œäº§ç”Ÿäº†æ¨¡å—åŒ–ç¼–ç¨‹çš„ç†å¿µã€‚ 2008å¹´9æœˆ2æ—¥ï¼ŒGoogleä¸ºæ——ä¸‹æµè§ˆå™¨ChromeåŠ å…¥äº†V8 JavaScriptå¤„ç†å¼•æ“ï¼Œå¯ä»¥æ›´å¿«é€Ÿï¼Œæ›´ç¨³å®šï¼Œæ›´å®‰å…¨çš„å¤„ç†JavaScriptä»£ç ã€‚2009å¹´ï¼ŒRyan Dahlç»“åˆGoogleçš„ V8å¼•æ“ã€äº‹ä»¶é©±åŠ¨æ¨¡å¼ã€ä½çº§I\\Oæ¥å£å¼€å‘äº†Node.jsã€‚ 2010å¹´1æœˆï¼Œä¸€æ¬¾åä¸ºâ€™npmâ€˜çš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿè¯ç”Ÿï¼Œéšä¹‹è€Œæ¥çš„è¿˜æœ‰commonJS è§„èŒƒã€‚ æ¨¡å—çš„æ ‡è¯†åº”éµå¾ªçš„è§„åˆ™ï¼ˆä¹¦å†™è§„èŒƒï¼‰ å®šä¹‰å…¨å±€å‡½æ•°requireï¼Œé€šè¿‡ä¼ å…¥æ¨¡å—æ ‡è¯†æ¥å¼•å…¥å…¶ä»–æ¨¡å—ï¼Œæ‰§è¡Œçš„ç»“æœå³ä¸ºåˆ«çš„æ¨¡å—æš´æ¼å‡ºæ¥çš„API å¦‚æœè¢«requireå‡½æ•°å¼•å…¥çš„æ¨¡å—ä¸­ä¹ŸåŒ…å«ä¾èµ–ï¼Œé‚£ä¹ˆä¾æ¬¡åŠ è½½è¿™äº›ä¾èµ– å¦‚æœå¼•å…¥æ¨¡å—å¤±è´¥ï¼Œé‚£ä¹ˆrequireå‡½æ•°åº”è¯¥æŠ¥ä¸€ä¸ªå¼‚å¸¸ æ¨¡å—é€šè¿‡å˜é‡exportsæ¥å‘å¾€æš´æ¼APIï¼Œexportsåªèƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæš´æ¼çš„APIé¡»ä½œä¸ºæ­¤å¯¹è±¡çš„å±æ€§ã€‚ 1234567891011//math.jsexports.add = function() &#123; var sum = 0, i = 0, args = arguments, l = args.length; while (i &lt; l) &#123; sum += args[i++]; &#125; return sum;&#125;;//add.jsvar add = require('math').add;add(val, 1); ä½†æ˜¯Node.jsä¸»è¦æ˜¯ç”¨äºæœåŠ¡å™¨ç«¯ï¼Œæ— æ³•ç›´æ¥ç”¨åœ¨æµè§ˆå™¨ç«¯ï¼Œä¸»è¦è¡¨ç°åœ¨æœåŠ¡ç«¯requireä¸€ä¸ªæ¨¡å—ï¼Œç›´æ¥å°±ä»ç¡¬ç›˜æˆ–è€…å†…å­˜ä¸­è¯»å–äº†ï¼Œæ¶ˆè€—çš„æ—¶é—´å¯ä»¥å¿½ç•¥ã€‚è€Œæµè§ˆå™¨åˆ™ä¸åŒï¼Œéœ€è¦ä»æœåŠ¡ç«¯æ¥ä¸‹è½½è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åè¿è¡Œé‡Œé¢çš„ä»£ç æ‰èƒ½å¾—åˆ°APIï¼Œéœ€è¦èŠ±è´¹ä¸€ä¸ªhttpè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œrequireåé¢çš„ä¸€è¡Œä»£ç ï¼Œéœ€è¦èµ„æºè¯·æ±‚å®Œæˆæ‰èƒ½æ‰§è¡Œã€‚ç”±äºæµè§ˆå™¨ç«¯æ˜¯ä»¥æ’å…¥&lt;script&gt;æ ‡ç­¾çš„å½¢å¼æ¥åŠ è½½èµ„æºçš„ï¼ˆajaxæ–¹å¼ä¸è¡Œï¼Œæœ‰è·¨åŸŸé—®é¢˜ï¼‰ï¼Œæ²¡åŠæ³•è®©ä»£ç åŒæ­¥æ‰§è¡Œï¼Œæ‰€ä»¥åƒcommonjsé‚£æ ·çš„å†™æ³•ä¼šç›´æ¥æŠ¥é”™ã€‚ æ‰€ä»¥ï¼Œç¤¾åŒºæ„è¯†åˆ°ï¼Œè¦æƒ³åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä¹Ÿèƒ½æ¨¡å—åŒ–ï¼Œéœ€è¦å¯¹è§„èŒƒè¿›è¡Œå‡çº§ã€‚è€Œå°±åœ¨ç¤¾åŒºè®¨è®ºåˆ¶å®šä¸‹ä¸€ç‰ˆè§„èŒƒçš„æ—¶å€™ï¼Œå†…éƒ¨å‘ç”Ÿäº†æ¯”è¾ƒå¤§çš„åˆ†æ­§ï¼Œäº§ç”Ÿäº†ä¸åŒçš„è§„èŒƒã€‚ AMD/RequireJsçš„å´›èµ·ä¸å¦¥å ç”¨å…¨å±€å‡½æ•°defineæ¥å®šä¹‰æ¨¡å—ï¼Œç”¨æ³•ä¸ºï¼šdefine(id?, dependencies?, factory); idä¸ºæ¨¡å—æ ‡è¯†ï¼Œéµä»CommonJS Module Identifiersè§„èŒƒ dependenciesä¸ºä¾èµ–çš„æ¨¡å—æ•°ç»„ï¼Œåœ¨factoryä¸­éœ€ä¼ å…¥å½¢å‚ä¸ä¹‹ä¸€ä¸€å¯¹åº” å¦‚æœdependenciesçš„å€¼ä¸­æœ‰â€requireâ€ã€â€exportsâ€æˆ–â€moduleâ€ï¼Œåˆ™ä¸commonjsä¸­çš„å®ç°ä¿æŒä¸€è‡´ å¦‚æœdependenciesçœç•¥ä¸å†™ï¼Œåˆ™é»˜è®¤ä¸º[â€œrequireâ€, â€œexportsâ€, â€œmoduleâ€]ï¼Œfactoryä¸­ä¹Ÿä¼šé»˜è®¤ä¼ å…¥require,exports,module å¦‚æœfactoryä¸ºå‡½æ•°ï¼Œæ¨¡å—å¯¹å¤–æš´æ¼APIçš„æ–¹æ³•æœ‰ä¸‰ç§ï¼šreturnä»»æ„ç±»å‹çš„æ•°æ®ã€exports.xxx=xxxã€module.exports=xxx å¦‚æœfactoryä¸ºå¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡å³ä¸ºæ¨¡å—çš„è¿”å›å€¼ 12345678910111213141516//é¡µé¢ä¸­éœ€è¦å¼•å…¥require.js//data-main çš„ä½œç”¨æ˜¯å‘Šè¯‰ require.js åŠ è½½ main.jsçš„ä»£ç .// &lt;script data-main=\"scripts/main\" src=\"scripts/require.js\"&gt;&lt;/script&gt;// math.jsdefine(function ()&#123; var add = function (x,y)&#123; return x+y; &#125;; return &#123; add: add &#125;;&#125;);//main.jsrequire(['math'], function (math)&#123; math.add(1,1);&#125;); å…¼å®¹å¹¶åŒ…çš„CMD/seajsseajsçš„ä½œè€…æ˜¯å›½å†…å¤§ç‰›, æ·˜å®å‰ç«¯ç‰ä¼¯ã€‚ ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥ç»å¸¸å°±ç”¨æ–‡ä»¶åä½œä¸ºæ¨¡å—id CMDæ¨å´‡ä¾èµ–å°±è¿‘ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸åœ¨defineçš„å‚æ•°ä¸­å†™ä¾èµ–ï¼Œåœ¨factoryä¸­å†™ factoryæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œfunction(require, exports, module) require æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥å— æ¨¡å—æ ‡è¯† ä½œä¸ºå”¯ä¸€å‚æ•°ï¼Œç”¨æ¥è·å–å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£ï¼šrequire(id) exports æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å‘å¤–æä¾›æ¨¡å—æ¥å£ module æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šé¢å­˜å‚¨äº†ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³• 123456789101112&lt;script src=\"sea.js\" data-main=\"main.js\"&gt;&lt;/script&gt;//main.jsseajs.use(['./hello', 'jquery'], function(hello, $) &#123; $('#beautiful-sea').click(hello.sayHello);&#125;);//hellodefine(function(require, exports, module) &#123; var $ = require('jquery'); exports.sayHello = function() &#123; $('#hello').toggle('slow'); &#125;;&#125;); AMDä¸CMDåŒºåˆ«ä¸»è¦æ˜¯ï¼š AMDæ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å— CMDæ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å»require é¢å‘æœªæ¥çš„ES6æ¨¡å—æ ‡å‡†ECMAScriptæ˜¯ç”±ECMA-262æ ‡å‡†åŒ–çš„è„šæœ¬è¯­è¨€çš„åç§°ã€‚JavaScriptå’ŒJScriptä¸ECMAScriptå…¼å®¹ï¼Œä½†åŒ…å«è¶…å‡ºECMAScriptçš„åŠŸèƒ½ã€‚ECMA-262çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬äº1997å¹´6æœˆè¢«Ecmaç»„ç»‡é‡‡çº³ã€‚ 2011 å¹´ï¼ŒECMAScript 5.1(ES5) ç‰ˆå‘å¸ƒã€‚ä¹Ÿæ˜¯å‰ç«¯å¿«é€Ÿå‘å±•çš„ä¸€æ®µæ—¶é—´ã€‚ä¸Šé¢å¤§éƒ¨åˆ†æ¨¡å—è§£å†³æ–¹æ¡ˆï¼ŒjQueryç­‰æ¡†æ¶éƒ½æ˜¯åŸºäºECMAScript 5.1è§„èŒƒå¼€å‘çš„ã€‚2015 å¹´ï¼Œè´Ÿè´£åˆ¶å®š ECMAScript è§„èŒƒè‰æ¡ˆçš„å§”å‘˜ä¼šå†³å®šå°†å®šä¹‰æ–°æ ‡å‡†çš„åˆ¶åº¦æ”¹ä¸ºä¸€å¹´ä¸€æ¬¡ã€‚ES6çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬åœ¨2015 å¹´ 6 æœˆå‘å¸ƒï¼Œæ­£å¼åç§°å°±æ˜¯ã€ŠECMAScript 2015 æ ‡å‡†ã€‹ï¼ˆç®€ç§° ES2015/ES6ï¼‰ï¼Œ2016 å¹´ 6 æœˆï¼Œå°å¹…ä¿®è®¢çš„ã€ŠECMAScript 2016 æ ‡å‡†ã€‹ï¼ˆç®€ç§° ES2016/ES7ï¼‰ï¼Œ2017å¹´6æœˆï¼Œã€ŠECMAScript 2017 æ ‡å‡†ã€‹ï¼ˆç®€ç§° ES2017/ES8ï¼‰ã€‚æˆ‘ä»¬ç»Ÿä¸€æŠŠECMAScript 2015æ ‡å‡†ä¹‹åçš„ç‰ˆæœ¬ç§°ä¸ºES6. æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼šexport å’Œ importã€‚exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ 1234567//math.jsexport function add(x, y) &#123; return x+y;&#125;//app.jsimport &#123;add&#125; from './math';add(1, 2) ä½†æ˜¯ç”±äºES6çš„æ ‡å‡†å¤ªè¶…å‰ï¼Œæµè§ˆå™¨çš„æ›´æ–°æ— æ³•è·Ÿä¸Šï¼Œæ‰€ä»¥è¿˜ä¸èƒ½ç›´æ¥åº”ç”¨åˆ°æµè§ˆå™¨é‡Œé¢ã€‚é€šè¿‡Babel è¯­æ³•è½¬æ¢å™¨åœ¨æœ¬åœ°ç¼–è¯‘æˆæµè§ˆå™¨å¯è¯†åˆ«çš„ES5ä»£ç ã€‚ æœªæ¥å‰ç«¯å‘å±•åˆ°æ¨¡å—åŒ–æ—¶ä»£å˜å¾—è¶Šæ¥æ­£è§„ï¼Œå›¢é˜Ÿä¹‹é—´çš„é…åˆä¹Ÿè¶Šæ¥è¶Šé‡ï¼Œé‡åˆ°çš„é—®é¢˜è¶Šæ¥è¶Šå¤šï¼Œé€šè¿‡å€Ÿé‰´ä¼ ç»Ÿçš„åç«¯å¼€å‘æ¨¡å¼ï¼Œè¡ç”Ÿå‡ºäº†è‡ªå·±çš„JavaScriptè®¾è®¡æ¨¡å¼ï¼ˆå•ä¾‹æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ï¼ŒåŸå‹æ¨¡å¼ç­‰ï¼‰ï¼Œä¹Ÿæœ‰äº†è‡ªå·±çš„æ¶æ„æ¨¡å¼ï¼ˆMVCï¼ŒMVVMï¼ŒMVPï¼‰ã€‚ æ ¹æ®ä¸åŒçš„è®¾è®¡æ¨¡å¼æœ‰å‡ºç°äº†ä¸åŒçš„å‰ç«¯æ¡†æ¶(Ext JS, jQuery UI, jQuery Mobile, Dojo, Prototype JS, Kissy, React, Vue, Angularç­‰) ã€‚ æ—¢ç„¶JavaScriptå‡ºç°äº†å„ç§ä¸åŒçš„æ¨¡å—è§£å†³æ–¹æ¡ˆï¼ŒCSSä¹Ÿéœ€è¦è·Ÿä¸ŠJavaScriptæ¨¡å—åŒ–è¿›ç¨‹ï¼ˆSass, Less, Stylusï¼‰ã€‚ HTMLä¹Ÿå‡ºç°äº†å„ç§æ¨¡ç‰ˆç³»ç»Ÿï¼ˆHandlebarsï¼ŒEJSç­‰ï¼‰ã€‚ å„ç§ç¼–è¯‘å·¥å…·ï¼ˆgrunt, gulp, webpackç­‰ï¼‰ã€‚ æœ€å, æˆ‘ä»¬æœŸå¾…æ— æ³•é¢„æµ‹çš„æœªæ¥ã€‚ It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way- in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only. é‚£æ˜¯æœ€å¥½çš„æ™‚ä»£ï¼Œé‚£æ˜¯æœ€å£çš„æ™‚ä»£ï¼›é‚£æ˜¯æ™ºæ…§çš„æ­²æœˆï¼Œé‚£æ˜¯æ„šæ˜§çš„æ­²æœˆï¼›é‚£æ˜¯ä¿¡ä»»çš„ç´€å…ƒï¼Œé‚£æ˜¯æ‡·ç–‘çš„ç´€å…ƒï¼›é‚£æ˜¯å…‰æ˜çš„å­£ç¯€ï¼Œé‚£æ˜¯é»‘æš—çš„å­£ç¯€ï¼›é‚£æ˜¯å¸Œæœ›çš„æ˜¥å¤©ï¼Œé‚£æ˜¯å¤±æœ›çš„å†¬å¤©ï¼›æˆ‘å€‘çš„å‰é¢æ›¾æ‡‰æœ‰ç›¡æœ‰ï¼Œæˆ‘å€‘çš„å‰é¢æ›¾ä¸€ç„¡æ‰€æœ‰ï¼›æˆ‘å€‘éƒ½å°‡èµ°ä¸Šå¤©å ‚ï¼Œæˆ‘å€‘éƒ½å°‡èµ°å‘å¦ä¸€ç«¯â€“ç°¡è¨€ä¹‹ï¼Œé‚£æ®µæ™‚æœŸèˆ‡ç¾åœ¨çš„æ™‚æœŸæ˜¯é‚£éº¼ç›¸ä¼¼ï¼Œé‚£äº›æœ€åµé›œçš„æ¬Šå¨äººå£«éƒ½å …æŒï¼Œä¸è«–æ˜¯å–„è‰¯æˆ–é‚ªæƒ¡ï¼Œç”¨æœ€é«˜ç´šå½¢å®¹è©ä¾†è©•è«–ã€‚","categories":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"}],"keywords":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}]},{"title":"æ•°æ®å»é‡","slug":"arr-uniq","date":"2017-11-05T16:00:00.000Z","updated":"2017-11-06T09:29:17.000Z","comments":true,"path":"2017/11/06/arr-uniq/","link":"","permalink":"http://hero-guo.com/2017/11/06/arr-uniq/","excerpt":"åªåŒ…å«åŸå§‹å˜é‡, ä¸ä¼šåˆ¤æ–­å€¼çš„ç±»å‹","text":"åªåŒ…å«åŸå§‹å˜é‡, ä¸ä¼šåˆ¤æ–­å€¼çš„ç±»å‹ 12345const array = [ 1, 1, 'a', 'a' ];function uniq(arr) &#123; return arr.filter((v, i) =&gt; arr.indexOf(v) === i);&#125;console.log(uniq(array)); //=&gt; [1, 'a'] 123456const array = [ 1, 1, 'a', 'a' ];function uniq(arr) &#123; return Array.from(new Set(arr));//return [...new Set(arr)]; &#125;console.log(uniq(array)); //=&gt; [1, 'a'] 12345678910const array = [ 1, 1, 'a', 'a' ];function uniq(arr) &#123; const res = []; const len = arr.length; for (let i = 0; i &lt; len; i++) &#123; if (!~res.indexOf(arr[i])) res.push(arr[i]); &#125; return res;&#125;console.log(uniq(array)); //=&gt; [1, 'a'] åŒ…å«å¼•ç”¨ç±»å‹12345678910const array = [&#123; a: 1 &#125;, &#123; a: 1 &#125;, [ 1, 2 ], [ 1, 2 ]];function uniq(arr) &#123; const hash = &#123;&#125;; return arr.filter(v =&gt; &#123; const key = JSON.stringify(v); const bool = !!hash[key]; return bool ? false : hash[key] = true; &#125;);&#125;console.log(uniq(array)); //=&gt; [&#123; a: 1 &#125;, [ 1, 2 ]]","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"æ•°æ®å»é‡","slug":"æ•°æ®å»é‡","permalink":"http://hero-guo.com/tags/æ•°æ®å»é‡/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³• â€”â€” æ ˆ","slug":"javascript-â€”â€”-æ ˆ","date":"2017-09-09T07:04:20.000Z","updated":"2018-07-11T13:37:05.847Z","comments":true,"path":"2017/09/09/javascript-â€”â€”-æ ˆ/","link":"","permalink":"http://hero-guo.com/2017/09/09/javascript-â€”â€”-æ ˆ/","excerpt":"","text":"æœ€è¿‘çœ‹äº†ä¸€æœ¬ã€Šå­¦ä¹ JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹ï¼Œæƒ³æŠŠé‡Œé¢ä»‹ç»çš„ä¸€äº›æ•°æ®ç»“æ„å’Œç®—æ³•è®°å½•ä¸‹æ¥ï¼ŒåŠ æ·±å°è±¡ã€‚ æ ˆæ˜¯ä¸€ç§éµä»åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰åŸåˆ™çš„æœ‰åºé›†åˆã€‚æ–°æ·»åŠ çš„æˆ–å¾…åˆ é™¤çš„å…ƒç´ éƒ½ä¿å­˜åœ¨æ ˆçš„æœ«å°¾ã€‚ç§°ä½œæ ˆé¡¶ï¼Œå¦ä¸€ç«¯å°±å«æ ˆåº•ã€‚åœ¨æ ˆé‡Œï¼Œæ–°å…ƒç´ éƒ½é è¿‘æ ˆé¡¶ï¼Œå°±å…ƒç´ éƒ½æ¥è¿‘æ ˆåº•ã€‚ åœ¨JavaScripté‡Œé¢æ•°ç»„çš„ä¸€äº›æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„æ¨¡æ‹Ÿæ ˆã€‚12345678910111213141516171819202122232425262728293031323334353637/** *ç”¨JavaScriptæ•°ç»„æ¨¡æ‹Ÿæ ˆ *@class Stack *@constructor *@method ** push(element) æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ–°å…ƒç´ åˆ°æ ˆé¡¶ ** pop() ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„æ–°å…ƒç´  ** peek() è¿”å›æ ˆé¡¶å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹ ** isEmpty() è¿”å›ture(æ ˆä¸ºç©º) å’Œ false(éç©º) ** clear() ç§»é™¤æ ˆé‡Œçš„æ‰€æœ‰å…ƒç´  ** size() è¿”å›æ ˆé‡Œå…ƒç´ çš„ä¸ªæ•° ** print() è¾“å‡ºæ ˆ**/function Stack() &#123; var items = []; //ä¿å­˜æ ˆé‡Œçš„å…ƒç´  this.push = function(element) &#123; items.push(element); &#125; this.pop = function() &#123; return items.pop(); &#125; this.peek = function() &#123; return items[items.length - 1]; &#125; this.isEmpty = function() &#123; return !items.length; &#125; this.clear = function() &#123; items = []; &#125; this.size = function() &#123; return items.length; &#125; this.print = function() &#123; console.log(items.toString()); &#125;&#125; ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªæ ˆçš„å®ç°ã€‚ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆä½¿ç”¨å®ƒã€‚12345678910111213141516var stack = new Stack();//å¾€æ ˆé‡Œæ·»åŠ äº›å…ƒç´ stack.push(3);stack.push(4);//è°ƒç”¨æ–¹æ³•console.log(stack.isEmpty()); // =&gt; falseconsole.log(stack.size()); // =&gt; 2console.log(stack.peek()); // =&gt; 4console.log(stack.print()); // =&gt; '3,4'stack.pop();console.log(stack.print()); // =&gt; 3stack.clear()console.log(stack.isEmpty()); // =&gt; trueconsole.log(stack.print()); // =&gt; '' å®é™…åº”ç”¨è¿›åˆ¶è½¬æ¢12345678910111213141516171819function baseConverter(num, base) &#123; var stack = new Stack(), base = base || 2, rem, digits = '0123456789ABCDEF', baseString = ''; while (num &gt; 0) &#123; rem = Math.floor(num % base); stack.push(rem); num = Math.floor(num / base); &#125; while (!stack.isEmpty()) &#123; baseString += digits[stack.pop()]; &#125; return baseString;&#125;console.log(baseConverter(100)); //=&gt; 1100100console.log(baseConverter(100, 8)); //=&gt; 144console.log(baseConverter(100, 16)); //=&gt; 64","categories":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://hero-guo.com/tags/æ•°æ®ç»“æ„ä¸ç®—æ³•/"}],"keywords":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}]},{"title":"JavaScript é¢å‘å¯¹è±¡","slug":"JavaScript-é¢å‘å¯¹è±¡","date":"2017-04-11T03:05:34.000Z","updated":"2017-08-30T14:28:05.000Z","comments":true,"path":"2017/04/11/JavaScript-é¢å‘å¯¹è±¡/","link":"","permalink":"http://hero-guo.com/2017/04/11/JavaScript-é¢å‘å¯¹è±¡/","excerpt":"æ„é€ å‡½æ•°æ„é€ å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡newè¿ç®—ç¬¦å¯ä»¥ç”Ÿæˆä¸€ä»½å®ä¾‹åŒæ—¶æŠŠthisç»‘å®šåˆ°å®ä¾‹ä¸Šã€‚JavaScriptè§„å®šï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°çš„å®ä¾‹ç»§æ‰¿ã€‚12345678910111213function Vehicle (engines) &#123; this.engines = engines; &#125; Vehicle.prototype.drive = function() &#123; console.log(`engines=&gt;$&#123;this.engines&#125;`); &#125; //å®ä¾‹ var car1 = new Vehicle(1); var car2 = new Vehicle(2); car1.drive(); //=&gt; engines=&gt;1 car2.drive(); //=&gt; engines=&gt;2 console.log(car1.constructor === Vehicle); //true console.log(car2.constructor === Vehicle); //true","text":"æ„é€ å‡½æ•°æ„é€ å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡newè¿ç®—ç¬¦å¯ä»¥ç”Ÿæˆä¸€ä»½å®ä¾‹åŒæ—¶æŠŠthisç»‘å®šåˆ°å®ä¾‹ä¸Šã€‚JavaScriptè§„å®šï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°çš„å®ä¾‹ç»§æ‰¿ã€‚12345678910111213function Vehicle (engines) &#123; this.engines = engines; &#125; Vehicle.prototype.drive = function() &#123; console.log(`engines=&gt;$&#123;this.engines&#125;`); &#125; //å®ä¾‹ var car1 = new Vehicle(1); var car2 = new Vehicle(2); car1.drive(); //=&gt; engines=&gt;1 car2.drive(); //=&gt; engines=&gt;2 console.log(car1.constructor === Vehicle); //true console.log(car2.constructor === Vehicle); //true instanceofæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæŸä¸ªç±»å‹çš„å®ä¾‹12console.log(car1 instanceof Vehicle); //trueconsole.log(car2 instanceof Vehicle); //true instanceofåˆ¤æ–­çš„æ˜¯å¯¹è±¡11 instanceof Number //false isPrototypeOfç”¨æ¥åˆ¤æ–­proptotypeå¯¹è±¡å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»12console.log(Vehicle.prototype.isPrototypeOf(car1)); //true console.log(Vehicle.prototype.isPrototypeOf(car2)); //true hasOwnProperty()å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«è‡ªå®šä¹‰å±æ€§è€Œä¸æ˜¯åŸå‹é“¾ä¸Šçš„å±æ€§12console.log(car1.hasOwnProperty('engines')); //true console.log(car1.hasOwnProperty('drive')); //false","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"promise.allé”™è¯¯å¤„ç†","slug":"promise-all","date":"2017-03-13T13:15:15.000Z","updated":"2017-08-30T15:38:19.000Z","comments":true,"path":"2017/03/13/promise-all/","link":"","permalink":"http://hero-guo.com/2017/03/13/promise-all/","excerpt":"é€šå¸¸å¤„ç†å¤šä¸ªè¯·æ±‚çš„æ—¶å€™æˆ‘ä»¬ä¼šç”¨Promise.all()æ–¹æ³•ã€‚è¯¥æ–¹æ³•æŒ‡å½“æ‰€æœ‰åœ¨å¯è¿­ä»£å‚æ•°ä¸­çš„ promises å·²å®Œæˆï¼Œæˆ–è€…ç¬¬ä¸€ä¸ªä¼ é€’çš„ promiseï¼ˆæŒ‡ rejectï¼‰å¤±è´¥æ—¶ï¼Œè¿”å› promiseã€‚ä½†æ˜¯å½“å…¶ä¸­ä»»ä½•ä¸€ä¸ªè¢«æ‹’ç»çš„è¯ã€‚ä¸»Promise.all([..])å°±ä¼šç«‹å³è¢«æ‹’ç»ï¼Œå¹¶ä¸¢å¼ƒæ¥è‡ªå…¶ä»–æ‰€æœ‰promisçš„å…¨éƒ¨ç»“æœã€‚","text":"é€šå¸¸å¤„ç†å¤šä¸ªè¯·æ±‚çš„æ—¶å€™æˆ‘ä»¬ä¼šç”¨Promise.all()æ–¹æ³•ã€‚è¯¥æ–¹æ³•æŒ‡å½“æ‰€æœ‰åœ¨å¯è¿­ä»£å‚æ•°ä¸­çš„ promises å·²å®Œæˆï¼Œæˆ–è€…ç¬¬ä¸€ä¸ªä¼ é€’çš„ promiseï¼ˆæŒ‡ rejectï¼‰å¤±è´¥æ—¶ï¼Œè¿”å› promiseã€‚ä½†æ˜¯å½“å…¶ä¸­ä»»ä½•ä¸€ä¸ªè¢«æ‹’ç»çš„è¯ã€‚ä¸»Promise.all([..])å°±ä¼šç«‹å³è¢«æ‹’ç»ï¼Œå¹¶ä¸¢å¼ƒæ¥è‡ªå…¶ä»–æ‰€æœ‰promisçš„å…¨éƒ¨ç»“æœã€‚1234567891011var p1 = Promise.resolve(3);var p2 = Promise.reject(2);var p3 = new Promise((resolve, reject) =&gt; &#123; setTimeout(resolve, 100, \"foo\");&#125;); Promise.all([p1, p2, p3]).then(values =&gt; &#123; console.log(values); // æ°¸è¿œèµ°ä¸åˆ°è¿™é‡Œ&#125;).catch(function(err) &#123; console.log(err); // 2&#125;); è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™è¦è®°ä½ä¸ºæ¯ä¸ªpromiseå…³è”ä¸€ä¸ªé”™è¯¯çš„å¤„ç†å‡½æ•°1234567891011121314151617var p1 = Promise.resolve(3).catch(function(err) &#123; return err;&#125;);var p2 = Promise.reject(2).catch(function(err) &#123; return err;&#125;);var p3 = new Promise((resolve, reject) =&gt; &#123; setTimeout(resolve, 100, \"foo\");&#125;).catch(function(err) &#123; return err;&#125;); Promise.all([p1, p2, p3]).then(values =&gt; &#123; console.log(values); // [3, 2, \"foo\"]&#125;).catch(function(err) &#123; console.log(1); //ä¸ä¼šèµ°åˆ°è¿™é‡Œ&#125;);","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"å‡½æ•°æŸ¯é‡ŒåŒ–","slug":"curry","date":"2017-02-27T03:27:55.000Z","updated":"2017-08-30T14:28:05.000Z","comments":true,"path":"2017/02/27/curry/","link":"","permalink":"http://hero-guo.com/2017/02/27/curry/","excerpt":"å‡½æ•°æŸ¯é‡ŒåŒ–å®šä¹‰æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ å‡½æ•°æŸ¯ç†åŒ–å®ç°","text":"å‡½æ•°æŸ¯é‡ŒåŒ–å®šä¹‰æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ å‡½æ•°æŸ¯ç†åŒ–å®ç° 1234567891011121314151617181920212223242526var autocurry = function (fn) &#123; var numargs = fn.length; return createRecurser([]); function createRecurser (acc) &#123; return function () &#123; var args = [].slice.call(arguments); return recurse(acc, args); &#125;; &#125; function recurse (acc, args) &#123; var newacc = acc.concat(args); if (newacc.length &lt; numargs) &#123; return createRecurser(newacc); &#125; else &#123; return fn.apply(this, newacc); &#125; &#125;&#125;var add = autocurry(function (a,b) &#123; return a + b;&#125;);console.log(add(1,2)); =&gt; 3console.log(add(1)(3)); =&gt; 4","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"æŸ¯é‡ŒåŒ–","slug":"æŸ¯é‡ŒåŒ–","permalink":"http://hero-guo.com/tags/æŸ¯é‡ŒåŒ–/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"JavaScript äº‹ä»¶è¯¦è§£","slug":"javascript-event","date":"2017-02-13T03:17:33.000Z","updated":"2018-07-11T13:37:09.254Z","comments":true,"path":"2017/02/13/javascript-event/","link":"","permalink":"http://hero-guo.com/2017/02/13/javascript-event/","excerpt":"äº‹ä»¶å†’æ³¡ä¸æ•è· å†’æ³¡å‹äº‹ä»¶ï¼šäº‹ä»¶æŒ‰ç…§ä»æœ€ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡åˆ°æœ€ä¸ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡(documentå¯¹è±¡)çš„é¡ºåºè§¦å‘ã€‚IE 5.5: div -&gt; body -&gt; documentIE 6.0: div -&gt; body -&gt; html -&gt; documentMozilla 1.0: div -&gt; body -&gt; html -&gt; document -&gt; window æ•è·å‹äº‹ä»¶(event capturing)ï¼šäº‹ä»¶ä»æœ€ä¸ç²¾ç¡®çš„å¯¹è±¡(document å¯¹è±¡)å¼€å§‹è§¦å‘ï¼Œç„¶ååˆ°æœ€ç²¾ç¡®(ä¹Ÿå¯ä»¥åœ¨çª—å£çº§åˆ«æ•è·äº‹ä»¶ï¼Œä¸è¿‡å¿…é¡»ç”±å¼€å‘äººå‘˜ç‰¹åˆ«æŒ‡å®š)ã€‚ DOMäº‹ä»¶æµï¼šåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œæ•è·å‹äº‹ä»¶å…ˆå‘ç”Ÿã€‚ä¸¤ç§äº‹ä»¶æµä¼šè§¦åŠDOMä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œä»documentå¯¹è±¡å¼€å§‹ï¼Œä¹Ÿåœ¨documentå¯¹è±¡ç»“æŸã€‚DOMäº‹ä»¶æ¨¡å‹æœ€ç‹¬ç‰¹çš„æ€§è´¨æ˜¯ï¼Œæ–‡æœ¬èŠ‚ç‚¹ä¹Ÿè§¦å‘äº‹ä»¶(åœ¨IEä¸­ä¸ä¼š)ã€‚","text":"äº‹ä»¶å†’æ³¡ä¸æ•è· å†’æ³¡å‹äº‹ä»¶ï¼šäº‹ä»¶æŒ‰ç…§ä»æœ€ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡åˆ°æœ€ä¸ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡(documentå¯¹è±¡)çš„é¡ºåºè§¦å‘ã€‚IE 5.5: div -&gt; body -&gt; documentIE 6.0: div -&gt; body -&gt; html -&gt; documentMozilla 1.0: div -&gt; body -&gt; html -&gt; document -&gt; window æ•è·å‹äº‹ä»¶(event capturing)ï¼šäº‹ä»¶ä»æœ€ä¸ç²¾ç¡®çš„å¯¹è±¡(document å¯¹è±¡)å¼€å§‹è§¦å‘ï¼Œç„¶ååˆ°æœ€ç²¾ç¡®(ä¹Ÿå¯ä»¥åœ¨çª—å£çº§åˆ«æ•è·äº‹ä»¶ï¼Œä¸è¿‡å¿…é¡»ç”±å¼€å‘äººå‘˜ç‰¹åˆ«æŒ‡å®š)ã€‚ DOMäº‹ä»¶æµï¼šåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œæ•è·å‹äº‹ä»¶å…ˆå‘ç”Ÿã€‚ä¸¤ç§äº‹ä»¶æµä¼šè§¦åŠDOMä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œä»documentå¯¹è±¡å¼€å§‹ï¼Œä¹Ÿåœ¨documentå¯¹è±¡ç»“æŸã€‚DOMäº‹ä»¶æ¨¡å‹æœ€ç‹¬ç‰¹çš„æ€§è´¨æ˜¯ï¼Œæ–‡æœ¬èŠ‚ç‚¹ä¹Ÿè§¦å‘äº‹ä»¶(åœ¨IEä¸­ä¸ä¼š)ã€‚ 123&lt;div&gt; &lt;p&gt;&lt;/p&gt;&lt;/div&gt; è¿™ä¸¤ä¸ªå…ƒç´ éƒ½ç»‘å®šäº†clickäº‹ä»¶ï¼Œå¦‚æœç”¨æˆ·ç‚¹å‡»äº†pï¼Œå®ƒåœ¨divå’Œpä¸Šéƒ½è§¦å‘äº†clickäº‹ä»¶ï¼Œé‚£è¿™ä¸¤ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºå“ªä¸ªå…ˆæ‰§è¡Œå‘¢ï¼Ÿäº‹ä»¶é¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ äº‹ä»¶æ•è·å½“ä½ ä½¿ç”¨äº‹ä»¶æ•è·æ—¶ï¼Œçˆ¶çº§å…ƒç´ å…ˆè§¦å‘ï¼Œå­çº§å…ƒç´ åè§¦å‘ï¼Œå³divå…ˆè§¦å‘ï¼Œpåè§¦å‘ã€‚ äº‹ä»¶å†’æ³¡å½“ä½ ä½¿ç”¨äº‹ä»¶å†’æ³¡æ—¶ï¼Œå­çº§å…ƒç´ å…ˆè§¦å‘ï¼Œçˆ¶çº§å…ƒç´ åè§¦å‘ï¼Œå³på…ˆè§¦å‘ï¼Œdivåè§¦å‘ã€‚ W3Cæ¨¡å‹W3Cæ¨¡å‹æ˜¯å°†ä¸¤è€…è¿›è¡Œä¸­å’Œï¼Œåœ¨W3Cæ¨¡å‹ä¸­ï¼Œä»»ä½•äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå…ˆä»é¡¶å±‚å¼€å§‹è¿›è¡Œäº‹ä»¶æ•è·ï¼Œç›´åˆ°äº‹ä»¶è§¦å‘åˆ°è¾¾äº†äº‹ä»¶æºå…ƒç´ ã€‚ç„¶åï¼Œå†ä»äº‹ä»¶æºå¾€ä¸Šè¿›è¡Œäº‹ä»¶å†’æ³¡ï¼Œç›´åˆ°åˆ°è¾¾documentã€‚ ç¨‹åºå‘˜å¯ä»¥è‡ªå·±é€‰æ‹©ç»‘å®šäº‹ä»¶æ—¶é‡‡ç”¨äº‹ä»¶æ•è·è¿˜æ˜¯äº‹ä»¶å†’æ³¡ï¼Œæ–¹æ³•å°±æ˜¯ç»‘å®šäº‹ä»¶æ—¶é€šè¿‡addEventListenerå‡½æ•°ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œtype, listener[, options]ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºç›‘å¬äº‹ä»¶ç±»å‹çš„å­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°å½“æ‰€ç›‘å¬çš„äº‹ä»¶ç±»å‹è§¦å‘æ—¶ï¼Œä¼šæ¥æ”¶åˆ°ä¸€ä¸ªäº‹ä»¶é€šçŸ¥ï¼ˆå®ç°äº† Event æ¥å£çš„å¯¹è±¡ï¼‰å¯¹è±¡ã€‚listener å¿…é¡»æ˜¯ä¸€ä¸ªå®ç°äº† EventListener æ¥å£çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°è‹¥æ˜¯trueï¼Œåˆ™è¡¨ç¤ºé‡‡ç”¨äº‹ä»¶æ•è·ï¼Œè‹¥æ˜¯falseï¼Œåˆ™è¡¨ç¤ºé‡‡ç”¨äº‹ä»¶å†’æ³¡ele.addEventListener(â€˜clickâ€™,doSomething,true)true=æ•è·false=å†’æ³¡ IEIEåªæ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œä¸æ”¯æŒäº‹ä»¶æ•è·ï¼Œå®ƒä¹Ÿä¸æ”¯æŒaddEventListenerå‡½æ•°ï¼Œä¸ä¼šç”¨ç¬¬ä¸‰ä¸ªå‚æ•°æ¥è¡¨ç¤ºæ˜¯å†’æ³¡è¿˜æ˜¯æ•è·ï¼Œå®ƒæä¾›äº†å¦ä¸€ä¸ªå‡½æ•°attachEventã€‚1ele.attachEvent(\"onclick\", doSomething); äº‹ä»¶å†’æ³¡ï¼ˆçš„è¿‡ç¨‹ï¼‰ï¼šäº‹ä»¶ä»å‘ç”Ÿçš„ç›®æ ‡ï¼ˆevent.srcElement||event.targetï¼‰å¼€å§‹ï¼Œæ²¿ç€æ–‡æ¡£é€å±‚å‘ä¸Šå†’æ³¡ï¼Œåˆ°documentä¸ºæ­¢ã€‚ è‡³æ­¤æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹äº‹ä»¶ç»‘å®šçš„æ–¹æ³•ï¼š1234567891011121314151617181920//äº‹ä»¶ç»‘å®šfunction addEvent(target, type, func) &#123; if (target.addEventListener) &#123; target.addEventListener(type, func, false); &#125; else if (target.attachEvent) &#123; target.attachEvent('on' + type, func); &#125; else &#123; target['on' + type] = func; &#125;&#125;//äº‹ä»¶ç§»é™¤function removeEvent(target, type, func) &#123; if (target.removeEventListener) &#123; target.removeEventListener(type, func, false); &#125; else if (target.detachEvent) &#123; target.detachEvent('on' + type, func); &#125; else &#123; target['on' + type] = null; &#125;&#125; äº‹ä»¶çš„ä¼ æ’­æ˜¯å¯ä»¥é˜»æ­¢çš„ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡12345if (event.stopPropagation) &#123; event.stopPropagation();&#125; else &#123; event.cancelBubble = true; // å…¼å®¹IE&#125; é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º12345if (event.preventDefault) &#123; event.preventDefault(); &#125; else &#123; event.returnValue = false; // å…¼å®¹IE&#125; äº‹ä»¶ä»£ç†äº‹ä»¶å§”æ‰˜å°±æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚æœ‰ç‚¹å°±æ˜¯å¯ä»¥æé«˜æ€§èƒ½ã€‚1234567891011121314151617 &lt;ul id='ul'&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt; &lt;script&gt; var oUl = document.getElementById('ul'); addEvent(oUl, 'click', function(ev) &#123; var ev = ev || window.event; var target = ev.target || ev.srcElement; if (targe.nodeName.toLowerCase() === 'li') &#123; console.log(target.innerHTML); &#125; &#125;);&lt;/script&gt; JSè§‚å¯Ÿè€…æ¨¡å¼è¿™æ˜¯ä¸€ç§åˆ›å»ºæ¾æ•£è€¦åˆä»£ç çš„æŠ€æœ¯ã€‚å®ƒå®šä¹‰å¯¹è±¡é—´ ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚ç”±ä¸»ä½“å’Œè§‚å¯Ÿè€…ç»„æˆï¼Œä¸»ä½“è´Ÿè´£å‘å¸ƒäº‹ä»¶ï¼ŒåŒæ—¶è§‚å¯Ÿè€…é€šè¿‡è®¢é˜…è¿™äº›äº‹ä»¶æ¥è§‚å¯Ÿè¯¥ä¸»ä½“ã€‚ä¸»ä½“å¹¶ä¸çŸ¥é“è§‚å¯Ÿè€…çš„ä»»ä½•äº‹æƒ…ï¼Œè§‚å¯Ÿè€…çŸ¥é“ä¸»ä½“å¹¶èƒ½æ³¨å†Œäº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚123456789101112131415161718192021222324252627282930313233343536var myEvent = (function() &#123; var handlers = &#123;&#125;; function on(evt, func) &#123; handlers[evt] = handlers[evt] || []; handlers[evt].push(func); &#125; function once(evt, func) &#123; handlers[evt] = []; handlers[evt].push(func); &#125; function off(evt, func) &#123; var handler = handlers[evt]; if (handler) &#123; for (var i = 0; i &lt; handler.length; i++) &#123; if (handler[i] === func) &#123; handler.splice(i, 1); return; &#125; &#125; &#125; &#125; function emit(evt, arg) &#123; if (handlers[evt]) &#123; for (var i = 0; i &lt; handlers[evt].length; i++) &#123; handlers[evt][i](arg); &#125; &#125; &#125; return &#123; on: on, once: once, off: off, emit: emit, &#125;; &#125;)();","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"äº‹ä»¶","slug":"äº‹ä»¶","permalink":"http://hero-guo.com/tags/äº‹ä»¶/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"ç±»çš„ç»§æ‰¿","slug":"object-prototype","date":"2017-02-12T06:57:15.000Z","updated":"2017-08-30T14:28:05.000Z","comments":true,"path":"2017/02/12/object-prototype/","link":"","permalink":"http://hero-guo.com/2017/02/12/object-prototype/","excerpt":"æ··åˆå¤åˆ¶ //å¤åˆ¶sourceå¯¹è±¡çš„å±æ€§ function mixin(source, target) { for (var key in source) { if (!(key in target)) { target[key] = source[key]; } } return target; } var Vehicle = { engines: 1, ignition: function() { console.log(&quot; Turning on my forward! &quot;); }, drive: function() { this.ignition(); console.log(&quot; Steering and moving forward! &quot;); } }; //Carå¤åˆ¶Vehicleçš„å±æ€§å€¼å’Œå‡½æ•°å¼•ç”¨ var Car = mixin(Vehicle, { wheels: 4, drive: function() { //æ˜¾ç¤ºæŒ‡å®šVehicleå¯¹è±¡è°ƒç”¨dirveæ–¹æ³• //å¦‚æœç›´æ¥æ‰§è¡ŒVehicle.dirve()ï¼Œå‡½æ•°è°ƒç”¨ä¸­çš„thiså°±ä¼šç»‘å®šåˆ°Vehicleä¸Šï¼Œæ‰€ä»¥ä½¿ç”¨.call(this)æ¥ç¡®ä¿dirveåœ¨Carå¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ; Vehicle.drive.call(this); console.log(&quot; Rolling on all &quot; + this.wheels + &quot;wheels!&quot;); } }); Car.drive();","text":"æ··åˆå¤åˆ¶ //å¤åˆ¶sourceå¯¹è±¡çš„å±æ€§ function mixin(source, target) { for (var key in source) { if (!(key in target)) { target[key] = source[key]; } } return target; } var Vehicle = { engines: 1, ignition: function() { console.log(&quot; Turning on my forward! &quot;); }, drive: function() { this.ignition(); console.log(&quot; Steering and moving forward! &quot;); } }; //Carå¤åˆ¶Vehicleçš„å±æ€§å€¼å’Œå‡½æ•°å¼•ç”¨ var Car = mixin(Vehicle, { wheels: 4, drive: function() { //æ˜¾ç¤ºæŒ‡å®šVehicleå¯¹è±¡è°ƒç”¨dirveæ–¹æ³• //å¦‚æœç›´æ¥æ‰§è¡ŒVehicle.dirve()ï¼Œå‡½æ•°è°ƒç”¨ä¸­çš„thiså°±ä¼šç»‘å®šåˆ°Vehicleä¸Šï¼Œæ‰€ä»¥ä½¿ç”¨.call(this)æ¥ç¡®ä¿dirveåœ¨Carå¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ; Vehicle.drive.call(this); console.log(&quot; Rolling on all &quot; + this.wheels + &quot;wheels!&quot;); } }); Car.drive(); å¯„ç”Ÿç»§æ‰¿ é¦–å…ˆå¤åˆ¶ä¸€ä»½çˆ¶ç±»ï¼ˆVehicleï¼‰ï¼Œç„¶åæ··å…¥å­ç±»ï¼ˆCarï¼‰ã€‚ç„¶åæ„å»ºå®ä¾‹ã€‚ //ç±» function Vehicle() { this.engines = 1; } Vehicle.prototype.ignition = function() { console.log(&quot; Turning on my forward! &quot;); }; Vehicle.prototype.drive = function() { this.ignition(); console.log(&quot; Steering and moving forward! &quot;); }; //å¯„ç”Ÿç±»Car function Car() { //car æ˜¯ä¸€ä¸ªVehicle var car = new Vehicle(); car.wheels = 4; //ä¿å­˜Vehicle::drive()çš„ç‰¹æ®Šå¼•ç”¨ var vehDrive = car.drive; //é‡å†™Vehicle::drive() car.drive = function() { vehDrive.call(this); console.log(&quot; Rolling on all &quot; + this.wheels + &quot;wheels!&quot;); } return car; } // å› ä¸ºæ²¡ä½¿ç”¨newåˆ›å»ºçš„æ–°å¯¹è±¡è€Œæ˜¯ä½¿ç”¨è¿”å›çš„carï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è°ƒç”¨Car(); //var myCar = Car(); var myCar = new Car(); myCar.drive(); åŸå‹ç»§æ‰¿function Foo(name) { this.name = name; } Foo.prototype.myName = function() { return this.name; } function Bar(name, label) { Foo.call(this, name); this.label = label; } //Bar.prototype å…³è”åˆ° Foo.prototype //è°ƒç”¨Object.create()åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶æŠŠå†…éƒ¨çš„[[prototype]]å…³è”åˆ°æŒ‡å®šçš„å¯¹è±¡ï¼ˆFoo.prototypeï¼‰ //ES6ç›´æ¥ä¿®æ”¹ç°æœ‰çš„Bar.prototype //Object.setPrototypeOf(Bar.prototype, Foo.prototype); Bar.prototype = Object.create(Foo.prototype); Bar.prototype.constructor = Bar; Bar.prototype.myLabel = function() { return this.label; } var a = new Bar(&apos;a&apos;, &apos;obj a&apos;); Bar.prototype = Foo.prototype å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ°Bar.prototypeçš„æ–°å¯¹è±¡ï¼Œåªæ˜¯ç›´æ¥å¼•ç”¨Foo.prototypeå¯¹è±¡ã€‚å› æ­¤æ‰§è¡Œå¤åˆ¶è¯­å¥å¯èƒ½ä¼šä¿®æ”¹Foo.prototypeæœ¬èº«ã€‚Bar.prototype = new Foo()è™½ç„¶ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ°Bar.prototypeçš„æ–°å¯¹è±¡ï¼Œä½†æ˜¯ä»–ä½¿ç”¨çš„æ˜¯new Foo()æ„é€ å‡½æ•°è°ƒç”¨ï¼Œå¦‚æœFooå‡½æ•°æœ‰ä¸€äº›å‰¯ä½œç”¨å¯èƒ½ä¼šå½±å“åˆ°Bar()çš„åä»£ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"ç»§æ‰¿","slug":"ç»§æ‰¿","permalink":"http://hero-guo.com/tags/ç»§æ‰¿/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]},{"title":"å……åˆ†ç†è§£é—­åŒ…","slug":"closure","date":"2017-02-12T06:57:15.000Z","updated":"2017-08-30T15:35:30.000Z","comments":true,"path":"2017/02/12/closure/","link":"","permalink":"http://hero-guo.com/2017/02/12/closure/","excerpt":"é—­åŒ…å®šä¹‰ å‡½æ•°å®šä¹‰æ—¶çš„ä½œç”¨åŸŸé“¾åˆ°å‡½æ•°æ‰§è¡Œæ—¶ä¾ç„¶æœ‰æ•ˆ å‡½æ•°ä½“å†…éƒ¨åˆ°å˜é‡éƒ½å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†… é—­åŒ…å¯ä»¥è®¿é—®å®ƒè¢«åˆ›å»ºæ—¶å€™åˆ°ä¸Šä¸‹æ–‡ç¯å¢ƒ","text":"é—­åŒ…å®šä¹‰ å‡½æ•°å®šä¹‰æ—¶çš„ä½œç”¨åŸŸé“¾åˆ°å‡½æ•°æ‰§è¡Œæ—¶ä¾ç„¶æœ‰æ•ˆ å‡½æ•°ä½“å†…éƒ¨åˆ°å˜é‡éƒ½å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†… é—­åŒ…å¯ä»¥è®¿é—®å®ƒè¢«åˆ›å»ºæ—¶å€™åˆ°ä¸Šä¸‹æ–‡ç¯å¢ƒ ä½œç”¨åŸŸç”±äºé—­åŒ…æ˜¯åŸºäºè¯æ³•ä½œç”¨åŸŸä¹¦å†™ä»£ç æ—¶æ‰€äº§ç”Ÿåˆ°è‡ªç„¶ç»“æœï¼Œæ‰€ä»¥ä¸ºäº†ç†è§£é—­åŒ…ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä»€ä¹ˆæ˜¯è¯æ³•ä½œç”¨åŸŸã€‚ ä»€ä¹ˆæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Ÿå¤§éƒ¨åˆ†æ ‡å‡†è¯­è¨€ç¼–è¯‘å™¨åˆ°ç¬¬ä¸€ä¸ªå·¥ä½œé˜¶æ®µå«åšè¯æ³•åŒ–ã€‚ç®€å•çš„è¯´è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µåˆ°ä½œç”¨åŸŸï¼ˆä¹Ÿå°±æ˜¯è¯´å‡½æ•°å£°æ˜çš„ä½ç½®ï¼‰ã€‚ 12345678910function foo(a) &#123; var b = a * 2; function bar(c) &#123; console.log(a, b, c); &#125; bar(b * 3);&#125;foo(2); //=&gt; 2, 4, 12 åœ¨ä¸Šé¢åˆ°ä»£ç ä¸­æœ‰3ä¸ªé€çº§åµŒå¥—åˆ°ä½œç”¨åŸŸã€‚ åŒ…å«ç€æ•´ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼š fooï¼› åŒ…å«fooæ‰€åˆ›å»ºåˆ°ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼šaã€barã€bï¼› åŒ…å«baræ‰€åˆ›å»ºåˆ°ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼šcã€‚ åœ¨å¼•æ“æ‰§è¡Œconsole.log(â€¦)å£°æ˜ï¼Œå¹¶æŸ¥æ‰¾aã€bã€cä¸‰ä¸ªå˜é‡åˆ°å¼•ç”¨æ—¶ã€‚é¦–å…ˆä»æœ€å†…éƒ¨åˆ°ä½œç”¨åŸŸä¹Ÿå°±æ˜¯bar()å‡½æ•°ä½œç”¨åŸŸå¼€å§‹æŸ¥æ‰¾ã€‚å¼•æ“æ— æ³•æ‰¾åˆ°aå°±ä¼šç»§ç»­å‘ä¸ŠæŸ¥æ‰¾ä¹Ÿå°±æ˜¯foo()å‡½æ•°ä½œç”¨åŸŸã€‚åœ¨è¿™é‡Œæ‰¾åˆ°æ¥aã€‚å¯¹äºbæ¥è®²ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦æ—¶åœæ­¢ã€‚ é—­åŒ…çš„äº§ç”Ÿå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰çš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚123456789function foo() &#123; var a = 2; function bar() &#123; console.log(a); &#125; return bar;&#125;var baz = foo();baz(); // =&gt; 2 è¿™å°±æ˜¯é—­åŒ… å‡½æ•°barçš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—®fooçš„å†…éƒ¨ä½œç”¨åŸŸã€‚ç„¶åæˆ‘ä»¬è¿”å›baræœ¬èº«ã€‚å½“fooæ‰§è¡Œåï¼Œå…¶è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯barå‡½æ•°ï¼‰èµ‹å€¼ç»™å˜é‡bazå¹¶è°ƒç”¨bazï¼Œå®é™…ä¸Šåªæ˜¯é€šè¿‡ä¸åŒçš„æ ‡è¯†ç¬¦å¼•ç”¨äº†å†…éƒ¨çš„å‡½æ•°barã€‚è™½ç„¶baræ˜¯åœ¨å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–è¢«è°ƒç”¨ï¼Œä½†æ˜¯é—­åŒ…å¯ä»¥è®¿é—®å®ƒè¢«åˆ›å»ºæ—¶å€™åˆ°ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ‰€ä»¥è¿˜æ˜¯å¯ä»¥è®¿é—®åˆ°å˜é‡aã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ åœ¨fooæ‰§è¡Œä¹‹åã€‚é€šå¸¸fooåˆ°æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºå¼•æ“æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ç”¨æ¥é‡Šæ”¾ä¸åœ¨ä½¿ç”¨åˆ°å†…å­˜ç©ºé—´ã€‚ä½†æ˜¯å› ä¸ºbarå£°æ˜åœ¨fooçš„å†…éƒ¨ï¼Œå®ƒæ‹¥æœ‰æ¶µç›–fooå†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œæ˜¯çš„è¯¥ä½œç”¨åŸŸä¸€ç›´å­˜åœ¨ï¼Œå¹¶è¢«baréšæ—¶å¼•ç”¨ã€‚ æ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼å¯¹å‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œä¼ é€’ï¼Œå½“å‡½æ•°åœ¨åˆ«å¤„è¢«è°ƒç”¨æ—¶éƒ½å¯ä»¥è§‚å¯Ÿåˆ°é—­åŒ…ã€‚ 12345678910function foo() &#123; var a = 2; function baz() &#123; console.log(a); &#125; bar(baz);&#125;function bar(fn) &#123; fn(); //é—­åŒ…&#125; éšå¤„å¯è§åˆ°é—­åŒ…ä½ å·²ç»å†™è¿‡åˆ°ä»£ç ä¸­ä¸€å®šåˆ°å¤„éƒ½æ˜¯é—­åŒ…åˆ°å½±å­ã€‚123456function wait(message) &#123; setTimeout(function timer() &#123; console.log(message); &#125;, 1000)&#125;wait('Hello, closure'); waitæ‰§è¡Œ1000æ¯«ç§’åï¼Œå®ƒåˆ°å†…éƒ¨ä½œç”¨åŸŸå¹¶ä¸ä¼šæ¶ˆå¤±ï¼Œtimerå‡½æ•°ä¾ç„¶å¯ä»¥è®¿é—®å®ƒå†…éƒ¨åˆ°å˜é‡messageã€‚123456function setupBot(name, selector) &#123; $(selector).click(function activator() &#123; console.log('Activating:' + name); &#125;);&#125;setupBot('Closure Bot 1', '#bot1'); æœ¬è´¨ä¸Šæ— è®ºä½•æ—¶ä½•åœ°ã€‚å¦‚æœå°†å‡½æ•°å½“ä½œç¬¬ä¸€çº§åˆ°å€¼ç±»å‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œä½ å°±ä¼šçœ‹åˆ°é—­åŒ…äº†ã€‚ å¾ªç¯å’Œé—­åŒ…12345for (var i=1; i&lt;=5; i++) &#123; setTimeout(function() &#123; console.log(i); &#125;, i*1000)&#125; è¿™æ®µä»£ç æœŸæœ›æ˜¯è¾“å‡º1ï½5ï¼Œæ¯ç§’ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªã€‚ä½†æ˜¯å®é™…ä¸Šæ˜¯æ¯ç§’ä¸€æ¬¡è¾“å‡ºåˆ°éƒ½æ˜¯6ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ åŸæ¥å¾ªç¯ä¸­å®šä¹‰çš„å‡½æ•°éƒ½å…±äº«ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œå› æ­¤å®é™…ä¸Šåªæœ‰ä¸€ä¸ªiã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ›´å¤šçš„é—­åŒ…ä½œç”¨åŸŸï¼Œç‰¹åˆ«æ˜¯å¾ªç¯è¿‡ç¨‹ä¸­æ¯ä¸ªè¿­ä»£éƒ½éœ€è¦ä¸€ä¸ªé—­åŒ…ä½œç”¨åŸŸã€‚1234567for(var i=1; i&lt;=5; i++) &#123; (function(j) &#123; setTimeout(function() &#123; console.log(j) &#125;, j*1000) &#125;)(i);&#125; ä½¿ç”¨letå¯ä»¥æœ‰æ›´ç®€å•éƒ½å†™æ³•12345for(let i=1; i&lt;=5; i++) &#123; setTimeout(function() &#123; console.log(i); &#125;, i*1000)&#125; è¿™æ˜¯å› ä¸ºletæ¯æ¬¡è¿­ä»£éƒ½ä¼šé‡æ–°å£°æ˜ä¸€ä¸ªä½œç”¨åŸŸã€‚ å‚è€ƒã€Šä½ ä¸çŸ¥é“çš„javascriptä¸Šã€‹ ã€Šjavascriptæƒå¨æŒ‡å—ã€‹ ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ ã€Šjavascriptè¯­è¨€ç²¾ç²¹ã€‹","categories":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"http://hero-guo.com/tags/é—­åŒ…/"}],"keywords":[{"name":"Notes","slug":"Notes","permalink":"http://hero-guo.com/categories/Notes/"}]},{"title":"ES6-MIXIN","slug":"ES6-mixin","date":"2016-12-11T06:57:15.000Z","updated":"2018-07-11T15:34:09.631Z","comments":true,"path":"2016/12/11/ES6-mixin/","link":"","permalink":"http://hero-guo.com/2016/12/11/ES6-mixin/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647 //é€šè¿‡classå®ç°æ··å…¥//extends å¯ä»¥ç»§æ‰¿åŠ¨æ€æ„é€ çš„ç±»const Mixin = Sup =&gt; class extends Sup &#123; //æ„é€ æ–¹æ³• //thiså…³é”®å­—åˆ™ä»£è¡¨å®ä¾‹å¯¹è±¡ constructor(...args) &#123; //ï¼ˆ1ï¼‰ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ˆå³super(...args)ï¼‰ï¼Œsuperä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ //ï¼ˆ2ï¼‰ä½œä¸ºå¯¹è±¡è°ƒç”¨æ—¶ï¼ˆå³super.propæˆ–super.method()ï¼‰ï¼Œsuperä»£è¡¨çˆ¶ç±»ã€‚æ³¨æ„ï¼Œæ­¤æ—¶superå³å¯ä»¥å¼•ç”¨çˆ¶ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ã€‚ super(...args); &#125;&#125;class Widget &#123; constructor(width, height, $elem) &#123; Object.assign(this, &#123; width, height, $elem: null &#125;); &#125; render($where) &#123; if (this.$elem) &#123; this.$elem.css(&#123; width: this.width + 'px', height: this.height + 'px' &#125;).appendTo($where); &#125; &#125;&#125;class Button extends Mixin(Widget) &#123; constructor(width, height, label)&#123; super(width, height); this.label = label; this.$elem = $('&lt;button&gt;').text(this.label); &#125; render($where) &#123; super.render($where); this.$elem.click(this.onClick); &#125; onClick() &#123; console.log('Button' + this.label + 'clicked!'); &#125;&#125;const $body = $(document.body) || document.body;let btn = new Button(125, 30, 'hello world');btn.render($body);","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/tags/JavaScript/"},{"name":"ES6","slug":"ES6","permalink":"http://hero-guo.com/tags/ES6/"}],"keywords":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://hero-guo.com/categories/JavaScript/"}]}]}